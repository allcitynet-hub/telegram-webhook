# ü§ñ Telegram –±–æ—Ç –¥–ª—è Allcitynet Portal

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js
–°–∫–∞—á–∞–π—Ç–µ —Å [nodejs.org](https://nodejs.org/)

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
npm install express axios
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
```bash
node telegram-bot.js
```

### 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ `@Allcitynet_bot`
3. –ù–∞–ø–∏—à–∏—Ç–µ "–ø—Ä–∏–≤–µ—Ç"
4. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üì± –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- **–ü—Ä–∏–≤–µ—Ç** - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- **–°—Ç–∞—Ç—É—Å** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞—è–≤–æ–∫
- **–ü–æ–º–æ—â—å** - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- **–ó–∞—è–≤–∫–∞** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞—è–≤–∫–∞—Ö

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å ngrok:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok:**
   ```bash
   # Windows
   choco install ngrok
   
   # macOS
   brew install ngrok
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   node telegram-bot.js
   ```

3. **–í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ ngrok:**
   ```bash
   ngrok http 3000
   ```

4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok.io`)

5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook:**
   ```bash
   node setup-webhook.js https://abc123.ngrok.io/webhook
   ```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –Ω–∞ Heroku/Vercel**
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook:**
   ```bash
   node setup-webhook.js https://your-app.herokuapp.com/webhook
   ```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –±–æ—Ç–∞:
```bash
node test-telegram-bot.js
```

### –¢–µ—Å—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
node test-telegram-bot.js etelecom_spb
```

## üìã –§–∞–π–ª—ã

- `telegram-bot.js` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
- `setup-webhook.js` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ webhook
- `test-telegram-bot.js` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞
- `start-telegram-bot.bat` - –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (Windows)
- `package-telegram.json` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook:
```bash
curl "https://api.telegram.org/bot1298834121:AAH9R2V0I0wxwvq9SBObflJDgtognF6X8Y4/getWebhookInfo"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞:
```bash
curl "https://api.telegram.org/bot1298834121:AAH9R2V0I0wxwvq9SBObflJDgtognF6X8Y4/getMe"
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –ø–æ—Ä—Ç–∞–ª–∞

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –±–æ—Ç

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞–µ—Ç** –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –∑–∞—è–≤–∫–∞—Ö –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö
3. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø—Ä–∞–≤–∫—É** –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è** —Å —Å–∏—Å—Ç–µ–º–æ–π Allcitynet Portal

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∑–∞—â–∏—â–µ–Ω
- Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
